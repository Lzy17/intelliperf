# Database Mode

The `db` mode in the Guided Tuning (GT) tool provides functionality to query and analyze workload data stored in the GT's SQL based database. This mode allows users to inspect workloads by kernel, kernel dispatch, as well as compare dispatches and export results.

GT uses [DuckDB](https://duckdb.org/why_duckdb) as the database engine, which is an in-process SQL OLAP database management system. We chose to use DuckDB for its lightweight nature, ease of use, and ability to handle complex queries efficiently. The database is stored in a single file, locally, making it easy to manage and share.

## Command Line Usage

The `db` mode can be invoked using the following command:

```bash
gt db [options]
```

### Options
| Option       | Description                                                                                     |
|--------------|-------------------------------------------------------------------------------------------------|
| `-w`         | Specify workload ID(s) to target. Accepts one or more workload IDs.                             |
| `-d`         | Specify dispatch ID(s) to target. Accepts one or more dispatch IDs.                             |
| `-k`         | Provide a regex pattern to match kernel names.                                                  |
| `-n`         | Search for workloads matching a given substring.                                                |
| `--save`     | Save the output to a specified file.  |
| `--separate` | Separate output for each provided filter.                                                 |
| `--less`     | Shorten kernel names to a specified number of characters in the output.                         |
| `--db`       | Specify a custom database file to query.                                                            |
| `--remove`   | Remove a workload from the database by its ID.                                                  |

---
## Features and Examples

### 1. **Show All Workloads**
Lists all workloads stored in the database, displaying their IDs and names.

**Example:**
```console
$ gt db
1    mixbench
2    triton-vec-add
3    babelstream
GT finished in: 0.02 seconds
```

---

### 2. **Search Workloads**
Search for workloads by providing a substring using the `-n` option. Returns all workloads whose names contain the specified substring.

**Example:**
```console
$ gt db -n babel
3    babelstream
GT finished in: 0.02 seconds
```

---

### 3. **Inspect Workloads**
Inspect a specific workload using the `-w` option. Displays details such as:
- Workload metadata (timestamp, command, GPU model).
- Dispatch ranges grouped by kernel.
- Top kernels with metrics like count, average duration, percentage, and LDS bank conflicts.

**Example:**
```console
$ gt db -w 4
╒════════════════════════════════╤═══════════════════════════════════════════════════════════════════════════════════════════════════════╤═════════════╕
│           Timestamp            │                                                Command                                                │  GPU Model  │
╞════════════════════════════════╪═══════════════════════════════════════════════════════════════════════════════════════════════════════╪═════════════╡
│ Wed Apr 16 19:37:14 2025 (CDT) │ /work1/amd/colramos/dev/rocm-examples/HIP-Basic/matrix_multiplication/build/hip_matrix_multiplication │    MI210    │
╘════════════════════════════════╧═══════════════════════════════════════════════════════════════════════════════════════════════════════╧═════════════╛
--------------------------------------------------------------------------------------------------

╒════════════╤══════════════════════════════════════════════════════════════════════════════════════════╕
│   Dispatch │                                                                                   Kernel │
╞════════════╪══════════════════════════════════════════════════════════════════════════════════════════╡
│          1 │                                                                    __amd_rocclr_initHeap │
├────────────┼──────────────────────────────────────────────────────────────────────────────────────────┤
│          2 │ void matrix_multiplication_kernel<16u>(float const*, float const*, float*, unsigned int) │
╘════════════╧══════════════════════════════════════════════════════════════════════════════════════════╛
╒═════════╤════════════════╤══════════════╤══════════════════════╤══════════════════════════════════════════════════════════════════════════════════════════╕
│   Count │   Avg-Duration │   Percentage │   LDS Bank Conflicts │                                                                                   Kernel │
╞═════════╪════════════════╪══════════════╪══════════════════════╪══════════════════════════════════════════════════════════════════════════════════════════╡
│       1 │    5.14259e+07 │      99.9798 │                    0 │ void matrix_multiplication_kernel<16u>(float const*, float const*, float*, unsigned int) │
├─────────┼────────────────┼──────────────┼──────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────┤
│       1 │          10400 │    0.0202192 │                    0 │                                                                    __amd_rocclr_initHeap │
╘═════════╧════════════════╧══════════════╧══════════════════════╧══════════════════════════════════════════════════════════════════════════════════════════╛
GT finished in: 0.09 seconds
```

---

### 4. **Inspect Dispatches**
Inspect specific dispatches within a workload using the `-d` option along with `-w`.

**Example:**
```console
$ gt db -w 1 -d 2
[DEBUG] Number of matching kernels: 1
╭────────────────────────────────────────────────────────────────────────────────────────────────╮
│ mat_mul                                                                                        │
│ (2097152.0, 256.0) : void matrix_multiplication_kernel<16u>(float const*, float const*,        │
│ float*, unsigned int)                                                                          │
╰────────────────────────────────────────────────────────────────────────────────────────────────╯
Application Stats
                                             Duration                                                                                          Operations                                            
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓ ┏━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┓
┃ Metric                                              ┃                                    Value ┃ ┃ Metric         ┃                          Count ┃                           Rate ┃         PoP ┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩ ┡━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━┩
│ Duration (ns)                                       │                               51,204,211 │ │ FLOPS          │                  4,294,967,296 │                 83.88 GFlops/s │       0.00% │
└─────────────────────────────────────────────────────┴──────────────────────────────────────────┘ │ IOPS           │                 24,880,611,328 │                 485.91 GIops/s │       0.03% │
                                                                                                   └────────────────┴────────────────────────────────┴────────────────────────────────┴─────────────┘
                                       Arithmetic Intensity                                                                            Instruction Mix (per wave)                                    
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┓ ┏━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━┓
┃ Level                                        ┃            HBM ┃             L2 ┃            L1 ┃ ┃           VALU ┃         VMEM ┃          LDS ┃     MFMA ┃         SALU ┃     SMEM ┃     BRANCH ┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━┩ ┡━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━┩
│ AI (Flops/Byte)                              │           0.46 │           0.05 │          0.05 │ │        118,050 │       11,182 │       12,576 │        0 │       67,658 │        8 │      4,965 │
└──────────────────────────────────────────────┴────────────────┴────────────────┴───────────────┘ └────────────────┴──────────────┴──────────────┴──────────┴──────────────┴──────────┴────────────┘
Memory Usage
                                            HBM Memory                                                                                         LDS Memory                                            
┏━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┓ ┏━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┓
┃ Type          ┃                          Count ┃                     Rate ┃                PoP ┃ ┃                 ┃              ┃       ┃             ┃                    ┃    Insufficient CU ┃
┡━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━┩ ┃           Count ┃         Rate ┃   PoP ┃    Requests ┃ Bank Conflict Rate ┃                LDS ┃
│ Read          │                  4,755,458,688 │               92.87 GB/s │           9287.24% │ ┡━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━┩
│ Write         │                  4,665,679,456 │               91.12 GB/s │           9111.91% │ │ 106,652,762,112 │ 2082.89 GB/s │ 0.12% │ 412,090,368 │              0.00% │              0.00% │
└───────────────┴────────────────────────────────┴──────────────────────────┴────────────────────┘ └─────────────────┴──────────────┴───────┴─────────────┴────────────────────┴────────────────────┘
                                           L1/L2 Memory                                           
┏━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━━┓
┃       ┃             ┃             ┃        ┃          ┃        Read ┃      Write ┃  Coalescing ┃
┃ Level ┃       Count ┃        Rate ┃    PoP ┃ Hit Rate ┃     Latency ┃    Latency ┃        Rate ┃
┡━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━━┩
│ L1    │ 95,361,695… │     1862.38 │  0.21% │   36.16% │      198.03 │     199.16 │      93.26% │
│       │             │        GB/s │        │          │             │            │             │
│ L2    │ 88,874,874… │     1735.69 │ 49.85% │   92.45% │      453.08 │     155.18 │             │
│       │             │        GB/s │        │          │             │            │             │
└───────┴─────────────┴─────────────┴────────┴──────────┴─────────────┴────────────┴─────────────┘
Wavefront Stats
                                         Wave Statistics                                                                                         Cycles                                              
┏━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓ ┏━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━┓
┃         Total Wavefronts ┃          Wavefront Occupancy ┃           Instructions per Wavefront ┃ ┃ Metric                 ┃                             Value ┃        Active Cycles ┃   Active % ┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩ ┡━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━┩
│                   32,768 │                            0 │                              212,067 │ │ Wave Cycles            │        5146020.00 Cycles per wave │     819796.34 Cycles │     15.93% │
└──────────────────────────┴──────────────────────────────┴──────────────────────────────────────┘ │ Dep Wait Cycles        │                        3888172.78 │                      │            │
                                                                                                   │ Issue Wait Cycles      │                         444649.81 │                      │            │
                                                                                                   └────────────────────────┴───────────────────────────────────┴──────────────────────┴────────────┘
                                       Resource Allocations                                                                                      Stalls                                              
┏━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━┓ ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━┓
┃             VGPRs ┃             AGPRs ┃            SGPRs ┃         LDS ┃               Scratch ┃ ┃ Metric                                                                   ┃                Rate ┃
┡━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━┩ ┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━┩
│               204 │                44 │                0 │          64 │                 2,048 │ │ Scheduler-Pipe Stall Rate                                                │              34.48% │
└───────────────────┴───────────────────┴──────────────────┴─────────────┴───────────────────────┘ │ Scratch Stall Rate                                                       │               0.00% │
                                                                                                   │                                                                          │                     │
                                                                                                   │ Insufficient Resources:                                                  │                     │
                                                                                                   │   SIMD Waveslots                                                         │               0.00% │
                                                                                                   │   SIMD VGPRs                                                             │               0.77% │
                                                                                                   │   SIMD SGPRs                                                             │               0.00% │
                                                                                                   │   SIMD LDS                                                               │               0.00% │
                                                                                                   │   CU Barriers                                                            │               0.00% │
                                                                                                   │                                                                          │                     │
                                                                                                   │ Reached CU Workgroup Limit                                               │               0.00% │
                                                                                                   │ Reached CU Wavefront Limit                                               │               0.00% │
                                                                                                   └──────────────────────────────────────────────────────────────────────────┴─────────────────────┘
GT finished in: 0.26 seconds
```

---

### 5. **Kernel Matching**
Match kernels using a regex pattern with the `-k` option. Can be combined with workload and dispatch options.

This example uses the logical OR operator (`|`) to match multiple kernel names. The regex pattern is enclosed in double quotes to ensure proper parsing by the shell.

**Example:**
```console
$ gt db -w 4 -k "matrix_multiplication_kernel<16u>|__amd_rocclr_initHeap"
[DEBUG] Number of matching kernels: 2
╭────────────────────────────────────────────────────────────────────────────────────────────────╮
│ mat_mul                                                                                        │
│ (256.0, 256.0) : Kernels like:                                                                 │
│ .*matrix_multiplication_kernel\<16u\>.*|.*__amd_rocclr_initHeap.*                              │
╰────────────────────────────────────────────────────────────────────────────────────────────────╯
Application Stats
                                             Duration                                                                                          Operations                                            
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓ ┏━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┓
┃ Metric                                                          ┃                        Value ┃ ┃ Metric        ┃                      Count ┃                              Rate ┃           PoP ┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩ ┡━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━┩
│ Duration (ns)                                                   │                        6,160 │ │ FLOPS         │              2,147,483,648 │                348617.48 GFlops/s │        19.56% │
└─────────────────────────────────────────────────────────────────┴──────────────────────────────┘ │ IOPS          │             12,440,313,984 │                2019531.49 GIops/s │       113.29% │
                                                                                                   └───────────────┴────────────────────────────┴───────────────────────────────────┴───────────────┘
                                       Arithmetic Intensity                                                                            Instruction Mix (per wave)                                    
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┓ ┏━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━┓
┃ Level                                        ┃            HBM ┃             L2 ┃            L1 ┃ ┃           VALU ┃         VMEM ┃          LDS ┃     MFMA ┃         SALU ┃     SMEM ┃     BRANCH ┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━┩ ┡━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━┩
│ AI (Flops/Byte)                              │           0.46 │           0.05 │          0.05 │ │        118,035 │       11,180 │       12,574 │        0 │       67,649 │        7 │      4,964 │
└──────────────────────────────────────────────┴────────────────┴────────────────┴───────────────┘ └────────────────┴──────────────┴──────────────┴──────────┴──────────────┴──────────┴────────────┘
Memory Usage
                                            HBM Memory                                                                                         LDS Memory                                            
┏━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━┓ ┏━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━┓
┃ Type        ┃                     Count ┃                        Rate ┃                    PoP ┃ ┃                ┃                 ┃         ┃             ┃    Bank Conflict ┃  Insufficient CU ┃
┡━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━┩ ┃          Count ┃            Rate ┃     PoP ┃    Requests ┃             Rate ┃              LDS ┃
│ Read        │             2,377,730,048 │              385995.14 GB/s │           38599513.77% │ ┡━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━┩
│ Write       │             2,332,839,728 │              378707.75 GB/s │           37870774.81% │ │ 53,326,381,056 │ 8656880.04 GB/s │ 485.64% │ 206,045,184 │            0.00% │            0.00% │
└─────────────┴───────────────────────────┴─────────────────────────────┴────────────────────────┘ └────────────────┴─────────────────┴─────────┴─────────────┴──────────────────┴──────────────────┘
                                           L1/L2 Memory                                           
┏━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━┓
┃       ┃            ┃            ┃            ┃          ┃       Read ┃      Write ┃ Coalescing ┃
┃ Level ┃      Count ┃       Rate ┃        PoP ┃ Hit Rate ┃    Latency ┃    Latency ┃       Rate ┃
┡━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━┩
│ L1    │ 47,680,91… │ 7740408.03 │    868.45% │   36.16% │     198.03 │     199.16 │     93.26% │
│       │            │       GB/s │            │          │            │            │            │
│ L2    │ 44,437,56… │ 7213891.23 │ 207200.46% │   92.45% │     453.08 │     155.18 │            │
│       │            │       GB/s │            │          │            │            │            │
└───────┴────────────┴────────────┴────────────┴──────────┴────────────┴────────────┴────────────┘
Wavefront Stats
                                         Wave Statistics                                                                                         Cycles                                              
┏━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓ ┏━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━┓
┃         Total Wavefronts ┃          Wavefront Occupancy ┃           Instructions per Wavefront ┃ ┃ Metric                 ┃                             Value ┃        Active Cycles ┃   Active % ┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩ ┡━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━┩
│                   16,386 │                            0 │                            212041.13 │ │ Wave Cycles            │        5145392.79 Cycles per wave │     819696.34 Cycles │     15.93% │
└──────────────────────────┴──────────────────────────────┴──────────────────────────────────────┘ │ Dep Wait Cycles        │                        3887698.67 │                      │            │
                                                                                                   │ Issue Wait Cycles      │                         444595.92 │                      │            │
                                                                                                   └────────────────────────┴───────────────────────────────────┴──────────────────────┴────────────┘
                                       Resource Allocations                                                                                      Stalls                                              
┏━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━┓ ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━┓
┃             VGPRs ┃             AGPRs ┃            SGPRs ┃         LDS ┃               Scratch ┃ ┃ Metric                                                                   ┃                Rate ┃
┡━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━┩ ┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━┩
│                 0 │                12 │                0 │          64 │                     0 │ │ Scheduler-Pipe Stall Rate                                                │              34.48% │
└───────────────────┴───────────────────┴──────────────────┴─────────────┴───────────────────────┘ │ Scratch Stall Rate                                                       │               0.00% │
                                                                                                   │                                                                          │                     │
                                                                                                   │ Insufficient Resources:                                                  │                     │
                                                                                                   │   SIMD Waveslots                                                         │               0.00% │
                                                                                                   │   SIMD VGPRs                                                             │               0.77% │
                                                                                                   │   SIMD SGPRs                                                             │               0.00% │
                                                                                                   │   SIMD LDS                                                               │               0.00% │
                                                                                                   │   CU Barriers                                                            │               0.00% │
                                                                                                   │                                                                          │                     │
                                                                                                   │ Reached CU Workgroup Limit                                               │               0.00% │
                                                                                                   │ Reached CU Wavefront Limit                                               │               0.00% │
                                                                                                   └──────────────────────────────────────────────────────────────────────────┴─────────────────────┘
GT finished in: 0.39 seconds
```

---

### 6. **Compare Dispatches**
Compare two dispatches from different workloads using the `-w` and `-d` options. Provides a side-by-side comparison of metrics.

**Example:**
```console
$ gt db -w 4 4 -d 1 2
[DEBUG] Number of matching kernels: 1                                                              [DEBUG] Number of matching kernels: 1
╭────────────────────────────────────────────────────────────────────────────────────────────────╮ ╭────────────────────────────────────────────────────────────────────────────────────────────────╮
│ mat_mul                                                                                        │ │ mat_mul                                                                                        │
│ (256.0, 256.0) : __amd_rocclr_initHeap                                                         │ │ (2097152.0, 256.0) : void matrix_multiplication_kernel<16u>(float const*, float const*,        │
╰────────────────────────────────────────────────────────────────────────────────────────────────╯ │ float*, unsigned int)                                                                          │
Application Stats                                                                                  ╰────────────────────────────────────────────────────────────────────────────────────────────────╯
                                             Duration                                              Application Stats
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓                                              Duration
┃ Metric                                                          ┃                        Value ┃ ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩ ┃ Metric                                              ┃                                    Value ┃
│ Duration (ns)                                                   │                        6,160 │ ┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
└─────────────────────────────────────────────────────────────────┴──────────────────────────────┘ │ Duration (ns)                                       │                               51,204,211 │
                                            Operations                                             └─────────────────────────────────────────────────────┴──────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┓                                             Operations
┃ Metric             ┃              Count ┃                                Rate ┃            PoP ┃ ┏━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┓
┡━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━┩ ┃ Metric         ┃                          Count ┃                           Rate ┃         PoP ┃
│ FLOPS              │                  0 │                       0.00 GFlops/s │          0.00% │ ┡━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━┩
│ IOPS               │             16,640 │                        2.70 GIops/s │          0.00% │ │ FLOPS          │                  4,294,967,296 │                 83.88 GFlops/s │       0.00% │
└────────────────────┴────────────────────┴─────────────────────────────────────┴────────────────┘ │ IOPS           │                 24,880,611,328 │                 485.91 GIops/s │       0.03% │
                                       Arithmetic Intensity                                        └────────────────┴────────────────────────────────┴────────────────────────────────┴─────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┓                                        Arithmetic Intensity
┃ Level                                        ┃            HBM ┃             L2 ┃            L1 ┃ ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┓
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━┩ ┃ Level                                        ┃            HBM ┃             L2 ┃            L1 ┃
│ AI (Flops/Byte)                              │           0.00 │           0.00 │          0.00 │ ┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━┩
└──────────────────────────────────────────────┴────────────────┴────────────────┴───────────────┘ │ AI (Flops/Byte)                              │           0.46 │           0.05 │          0.05 │
                                    Instruction Mix (per wave)                                     └──────────────────────────────────────────────┴────────────────┴────────────────┴───────────────┘
┏━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┓                                     Instruction Mix (per wave)
┃        VALU ┃        VMEM ┃       LDS ┃        MFMA ┃       SALU ┃       SMEM ┃         BRANCH ┃ ┏━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━┓
┡━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━┩ ┃           VALU ┃         VMEM ┃          LDS ┃     MFMA ┃         SALU ┃     SMEM ┃     BRANCH ┃
│          70 │          32 │         0 │           0 │          7 │          2 │              2 │ ┡━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━┩
└─────────────┴─────────────┴───────────┴─────────────┴────────────┴────────────┴────────────────┘ │        118,050 │       11,182 │       12,576 │        0 │       67,658 │        8 │      4,965 │
Memory Usage                                                                                       └────────────────┴──────────────┴──────────────┴──────────┴──────────────┴──────────┴────────────┘
                                            HBM Memory                                             Memory Usage
┏━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┓                                             HBM Memory
┃ Type               ┃              Count ┃                          Rate ┃                  PoP ┃ ┏━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┓
┡━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━┩ ┃ Type          ┃                          Count ┃                     Rate ┃                PoP ┃
│ Read               │              1,408 │                     0.23 GB/s │               22.86% │ ┡━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━┩
│ Write              │                  0 │                     0.00 GB/s │                0.00% │ │ Read          │                  4,755,458,688 │               92.87 GB/s │           9287.24% │
└────────────────────┴────────────────────┴───────────────────────────────┴──────────────────────┘ │ Write         │                  4,665,679,456 │               91.12 GB/s │           9111.91% │
                                            LDS Memory                                             └───────────────┴────────────────────────────────┴──────────────────────────┴────────────────────┘
┏━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━┓                                             LDS Memory
┃   Count ┃         Rate ┃     PoP ┃   Requests ┃    Bank Conflict Rate ┃    Insufficient CU LDS ┃ ┏━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┓
┡━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━┩ ┃                 ┃              ┃       ┃             ┃                    ┃    Insufficient CU ┃
│       0 │    0.00 GB/s │   0.00% │          0 │                 0.00% │                  0.00% │ ┃           Count ┃         Rate ┃   PoP ┃    Requests ┃ Bank Conflict Rate ┃                LDS ┃
└─────────┴──────────────┴─────────┴────────────┴───────────────────────┴────────────────────────┘ ┡━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━┩
                                           L1/L2 Memory                                            │ 106,652,762,112 │ 2082.89 GB/s │ 0.12% │ 412,090,368 │              0.00% │              0.00% │
┏━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┓ └─────────────────┴──────────────┴───────┴─────────────┴────────────────────┴────────────────────┘
┃       ┃         ┃            ┃       ┃          ┃              ┃               ┃    Coalescing ┃                                            L1/L2 Memory
┃ Level ┃   Count ┃       Rate ┃   PoP ┃ Hit Rate ┃ Read Latency ┃ Write Latency ┃          Rate ┃ ┏━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━━┓
┡━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━┩ ┃       ┃             ┃             ┃        ┃          ┃        Read ┃      Write ┃  Coalescing ┃
│ L1    │ 131,200 │ 21.30 GB/s │ 0.00% │    0.00% │         0.00 │        211.40 │        25.00% │ ┃ Level ┃       Count ┃        Rate ┃    PoP ┃ Hit Rate ┃     Latency ┃    Latency ┃        Rate ┃
│ L2    │ 265,472 │ 43.10 GB/s │ 1.24% │   49.81% │       453.95 │          0.00 │               │ ┡━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━━┩
└───────┴─────────┴────────────┴───────┴──────────┴──────────────┴───────────────┴───────────────┘ │ L1    │ 95,361,695… │     1862.38 │  0.21% │   36.16% │      198.03 │     199.16 │      93.26% │
Wavefront Stats                                                                                    │       │             │        GB/s │        │          │             │            │             │
                                         Wave Statistics                                           │ L2    │ 88,874,874… │     1735.69 │ 49.85% │   92.45% │      453.08 │     155.18 │             │
┏━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓ │       │             │        GB/s │        │          │             │            │             │
┃         Total Wavefronts ┃          Wavefront Occupancy ┃           Instructions per Wavefront ┃ └───────┴─────────────┴─────────────┴────────┴──────────┴─────────────┴────────────┴─────────────┘
┡━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩ Wavefront Stats
│                        4 │                            0 │                               116.25 │                                          Wave Statistics
└──────────────────────────┴──────────────────────────────┴──────────────────────────────────────┘ ┏━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
                                              Cycles                                               ┃         Total Wavefronts ┃          Wavefront Occupancy ┃           Instructions per Wavefront ┃
┏━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┓ ┡━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
┃ Metric                   ┃                            Value ┃      Active Cycles ┃    Active % ┃ │                   32,768 │                            0 │                              212,067 │
┡━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━┩ └──────────────────────────┴──────────────────────────────┴──────────────────────────────────────┘
│ Wave Cycles              │          7285.00 Cycles per wave │      461.00 Cycles │       6.33% │                                               Cycles
│ Dep Wait Cycles          │                            3,755 │                    │             │ ┏━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━┓
│ Issue Wait Cycles        │                            3,118 │                    │             │ ┃ Metric                 ┃                             Value ┃        Active Cycles ┃   Active % ┃
└──────────────────────────┴──────────────────────────────────┴────────────────────┴─────────────┘ ┡━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━┩
                                       Resource Allocations                                        │ Wave Cycles            │        5146020.00 Cycles per wave │     819796.34 Cycles │     15.93% │
┏━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━┓ │ Dep Wait Cycles        │                        3888172.78 │                      │            │
┃             VGPRs ┃             AGPRs ┃            SGPRs ┃         LDS ┃               Scratch ┃ │ Issue Wait Cycles      │                         444649.81 │                      │            │
┡━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━┩ └────────────────────────┴───────────────────────────────────┴──────────────────────┴────────────┘
│                 0 │                12 │                0 │          64 │                     0 │                                        Resource Allocations
└───────────────────┴───────────────────┴──────────────────┴─────────────┴───────────────────────┘ ┏━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━┓
                                              Stalls                                               ┃             VGPRs ┃             AGPRs ┃            SGPRs ┃         LDS ┃               Scratch ┃
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┓ ┡━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━┩
┃ Metric                                                                     ┃              Rate ┃ │               204 │                44 │                0 │          64 │                 2,048 │
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━┩ └───────────────────┴───────────────────┴──────────────────┴─────────────┴───────────────────────┘
│ Scheduler-Pipe Stall Rate                                                  │             0.00% │                                               Stalls
│ Scratch Stall Rate                                                         │             0.00% │ ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━┓
│                                                                            │                   │ ┃ Metric                                                                   ┃                Rate ┃
│ Insufficient Resources:                                                    │                   │ ┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━┩
│   SIMD Waveslots                                                           │             0.00% │ │ Scheduler-Pipe Stall Rate                                                │              34.48% │
│   SIMD VGPRs                                                               │             0.00% │ │ Scratch Stall Rate                                                       │               0.00% │
│   SIMD SGPRs                                                               │             0.00% │ │                                                                          │                     │
│   SIMD LDS                                                                 │             0.00% │ │ Insufficient Resources:                                                  │                     │
│   CU Barriers                                                              │             0.00% │ │   SIMD Waveslots                                                         │               0.00% │
│                                                                            │                   │ │   SIMD VGPRs                                                             │               0.77% │
│ Reached CU Workgroup Limit                                                 │             0.00% │ │   SIMD SGPRs                                                             │               0.00% │
│ Reached CU Wavefront Limit                                                 │             0.00% │ │   SIMD LDS                                                               │               0.00% │
└────────────────────────────────────────────────────────────────────────────┴───────────────────┘ │   CU Barriers                                                            │               0.00% │
                                                                                                   │                                                                          │                     │
GT finished in: 0.45 seconds
```

---

### 7. **Export Results**
Save the output to a file using the `--save` option. Supported formats include:
- `.csv` for summaries.
- `.json` for detailed reports.

**Examples:**
```console
$ gt db -w 1 --save summary.csv

OR

$ gt db -w 1 -d 4 --save report_card.json
```

---

### 8. **Remove Workloads**
Remove a workload from the database using the `--remove` option.

**Example:**
```console
$ gt db --remove 1
Removing workload 1...
2    vec-add_ALL
3    triton-test
4    mat_mul
GT finished in: 0.10 seconds
```

## Export Results
To save the output tables from GT database queries, you can use the `--save` option. This allows you to export the results in various formats, such as CSV or JSON.

This feature is especially handy if you plan on doing any post-processing or analysis of the data yourself. Below are a few examples of how a user might use this feature in practice.

**Example 1: Export the report card view**

As you see, the `--save` option will generate a standardized JSON representation of the report card view. 

```console
$ gt db -w 4 -k "matrix_multiplication_kernel<16u>" --save report_card.json
[DEBUG] Number of matching kernels: 1
╭────────────────────────────────────────────────────────────────────────────────────────────────╮
│ mat_mul                                                                                        │
│ (2097152.0, 256.0) : Kernels like: .*matrix_multiplication_kernel\<16u\>.*                     │
╰────────────────────────────────────────────────────────────────────────────────────────────────╯
Application Stats
...
GT finished in: 0.38 seconds

$ cat report_card.json
[
    {
        "name": "mat_mul",
        "gpu_series": "MI200",
        "cu_per_gpu": 8192,
        "max_sclk": 1700,
        "hbm_bw": 1.0,
        "lds_banks_per_cu": 32,
        "total_l2_chan": 32,
        "se_per_gpu": 4,
        "num_xcd": 32,
        "kernel": "void matrix_multiplication_kernel<16u>(float const*, float const*, float*, unsigned int)",
        "grid": 2097152.0,
        "workgroup": 256.0,
        "durations": {
            "ns": 51204211.0
        },
        "flops": {
            "f": 4294967296.0,
            "i": 24880611328.0,
            "flop_pop": 0.004705495344329946,
            "iop_pop": 0.02725878748297387
        },
        "hbm": {
            "rd": 4755458688.0,
            "wr": 4665679456.0,
            "rd_pop": 9287.241410672259,
            "wr_pop": 9111.905768843895
        },
        "lds": {
            "lds": 106652762112.0,
            "req": 412090368.0,
            "bc": 0.0,
            "ins_cu_lds": 0.0,
            "pop": 0.11684700743713074,
            "peak": 1782579.2
        },
        "l1": {
            "l1": 95361695744.0,
            "hr": 36.15984967021687,
            "rd_lat": 198.03344350197105,
            "wr_lat": 199.1637240360746,
            "coal": 93.2560737224239,
            "pop": 0.20895340263415169,
            "peak": 891289.6
        },
        "l2": {
            "l2": 88874874496.0,
            "hr": 92.44533269264736,
            "rd_lat": 453.0817987398317,
            "wr_lat": 155.18193088651287,
            "pop": 49.853361626724755,
            "peak": 3481.6
        },
        "ai": {
            "hbm": 0.455886245414554,
            "l2": 0.04832600125014302,
            "l1": 0.045038705137227304
        },
        "wave": {
            "count": 32768.0,
            "cycles": 83901817.0,
            "ins_per_wave": 212067.0,
            "wave_cycles": 5146019.995849609,
            "dep_wait_cycles": 3888172.781616211,
            "issue_wait_cycles": 444649.806640625,
            "active_cycles": 819796.3428955078,
            "occupancy": 0.0,
            "pop": 0.0,
            "max_waves": 262144
        },
        "ipc": {
            "value": 0.8082762608863289
        },
        "cycles": {
            "wave_cycles": 5146019.995849609,
            "active": 819796.3428955078,
            "dep_wait": 3888172.781616211,
            "issue_wait": 444649.806640625
        },
        "allocations": {
            "vgpr": 204.0,
            "agpr": 44.0,
            "sgpr": 0.0,
            "lds": 64.0,
            "scratch": 2048.0
        },
        "stalls": {
            "scheduler_pipe": 34.48479112669082,
            "scratch": 0.0,
            "waveslots": 0.0,
            "vgprs": 0.7731335933886029,
            "sgprs": 0.0,
            "lds": 0.0,
            "barriers": 0.0,
            "workgroup_limit": 0.0,
            "wavefront_limit": 0.0
        },
        "instruction_mix": {
            "valu": 118050,
            "vmem": 11182,
            "lds": 12576,
            "mfma": 0,
            "salu": 67658,
            "smem": 8,
            "branch": 4965,
            "compute_mem_ratio": 7.816651233268794
        }
    }
]
```

**Example 2: Export a separated report card**

This example shows how you can use the `--save` option in combination with the `--separate` option to generate a JSON output with separate entries for each kernel that matches the given `-k` regex. This is useful for analyzing multiple kernels in a single workload.

```console
$ gt db -w 4 -k "matrix_multiplication_kernel<16u>|__amd_rocclr_initHeap" --separate --save report_card.json
[DEBUG] Number of matching kernels: 1
╭────────────────────────────────────────────────────────────────────────────────────────────────╮
│ mat_mul                                                                                        │
│ (2097152.0, 256.0) : Kernels like: .*matrix_multiplication_kernel\<16u\>.*                     │
╰────────────────────────────────────────────────────────────────────────────────────────────────╯
...
[DEBUG] Number of matching kernels: 1
╭────────────────────────────────────────────────────────────────────────────────────────────────╮
│ mat_mul                                                                                        │
│ (256.0, 256.0) : Kernels like: .*__amd_rocclr_initHeap.*                                       │
╰────────────────────────────────────────────────────────────────────────────────────────────────╯
...
GT finished in: 0.76 seconds

$ cat report_card.json
[
    {
        "name": "mat_mul",
        "gpu_series": "MI200",
        "cu_per_gpu": 8192,
        "max_sclk": 1700,
        "hbm_bw": 1.0,
        "lds_banks_per_cu": 32,
        "total_l2_chan": 32,
        "se_per_gpu": 4,
        "num_xcd": 32,
        "kernel": "void matrix_multiplication_kernel<16u>(float const*, float const*, float*, unsigned int)",
        "grid": 2097152.0,
        "workgroup": 256.0,
        "durations": {
            "ns": 51204211.0
        },
        "flops": {
            "f": 4294967296.0,
            "i": 24880611328.0,
            "flop_pop": 0.004705495344329946,
            "iop_pop": 0.02725878748297387
        },
        ...
    },
    {
        "name": "mat_mul",
        "gpu_series": "MI200",
        "cu_per_gpu": 8192,
        "max_sclk": 1700,
        "hbm_bw": 1.0,
        "lds_banks_per_cu": 32,
        "total_l2_chan": 32,
        "se_per_gpu": 4,
        "num_xcd": 32,
        "kernel": "__amd_rocclr_initHeap",
        "grid": 256.0,
        "workgroup": 256.0,
        "durations": {
            "ns": 6160.0
        },
        "flops": {
            "f": 0.0,
            "i": 16640.0,
            "flop_pop": 0.0,
            "iop_pop": 0.00015153877602177234
        },
        ...
    }
]
```

---

For more details, refer to the source code in `show.py`.  